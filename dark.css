/* --- 1. GLOBAL BASE & TEXT FIXES --- */
body.dark-mode {
    background: #1a1c22 !important; /* Deep Premium Grey */
    color: #f0f0f0 !important;
}

/* Fix for all disappearing text (Titles, Labels, Spans) */
body.dark-mode h1, body.dark-mode h2, body.dark-mode h3,
body.dark-mode .main-title, body.dark-mode .page-header h1,
body.dark-mode b, body.dark-mode strong, body.dark-mode label,
body.dark-mode .section-title, body.dark-mode .group-header {
    color: #ffffff !important;
}

/* Secondary/Dimmed text */
body.dark-mode p, body.dark-mode span, body.dark-mode .log-item, 
body.dark-mode .page-header p, body.dark-mode .soon,
body.dark-mode .reset-timer {
    color: #a0a8b5 !important;
}

/* --- 2. GLASS CARD SYSTEM (All Pages) --- */
body.dark-mode .habit-item, 
body.dark-mode .alert-card-input, 
body.dark-mode #alertList .alert-card, 
body.dark-mode .future-card, 
body.dark-mode .setting-card, 
body.dark-mode .task-group {
    background: rgba(255, 255, 255, 0.06) !important;
    backdrop-filter: blur(15px) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4) !important;
}

/* --- 3. POPUP & MODAL FIXES --- */
body.dark-mode .popup, 
body.dark-mode .modal-content {
    background: #252830 !important; 
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    color: white !important;
    box-shadow: 0 20px 40px rgba(0,0,0,0.6) !important;
}

body.dark-mode .popup-overlay, 
body.dark-mode .modal-overlay {
    background: rgba(0, 0, 0, 0.85) !important;
}

/* --- 4. INPUTS & SELECTS (Fixes Double Arrow Ghost) --- */
body.dark-mode input, 
body.dark-mode select, 
body.dark-mode .glass-select, 
body.dark-mode #taskInput {
    background: #2d3139 !important;
    border: 1px solid #444 !important;
    color: white !important;
    appearance: none !important; /* Kills browser default arrows */
    -webkit-appearance: none !important;
}

/* Single Premium White Arrow for Dropdowns */
body.dark-mode select,
body.dark-mode .glass-select {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E") !important;
    background-repeat: no-repeat !important;
    background-position: right 15px center !important;
    background-size: 18px !important;
    padding-right: 40px !important;
}

/* --- 5. BUTTONS & COUNTER ICONS --- */
body.dark-mode .main-btn, 
body.dark-mode .add-task-btn, 
body.dark-mode .done-popup, 
body.dark-mode .modal-btn,
body.dark-mode .done-btn {
    background: #4CAF50 !important;
    color: white !important;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3) !important;
    border: none !important;
}

/* Fix for Vanishing Icons/Text in Action Circles */
body.dark-mode .action-circle {
    color: white !important;
}

body.dark-mode .btn-red { 
    background: rgba(217, 4, 41, 0.3) !important; 
    color: #ff4d4d !important; 
    border: 1px solid rgba(217, 4, 41, 0.4) !important;
}
body.dark-mode .btn-green-light { 
    background: rgba(76, 175, 80, 0.3) !important; 
    color: #4CAF50 !important; 
    border: 1px solid rgba(76, 175, 80, 0.4) !important;
}
body.dark-mode .btn-forest { 
    background: #2D6A4F !important; 
    color: white !important; 
}

/* --- 6. SETTINGS & TOGGLES --- */
body.dark-mode .slider {
    background: #444 !important;
}
body.dark-mode .slider:before {
    background: #bbb !important;
}
body.dark-mode input:checked + .slider {
    background: #4CAF50 !important;
}
body.dark-mode input:checked + .slider:before {
    background: white !important;
}

/* --- 7. PROGRESS RING FIX --- */
body.dark-mode .progress-ring {
    stroke: #4CAF50 !important;
}
body.dark-mode .progress-circle-container circle:first-child {
    stroke: rgba(255, 255, 255, 0.1) !important;
}